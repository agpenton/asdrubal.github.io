<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="">


    <link rel="icon" href="https://juniqe.gitlab.io/devops/docs/images/favicon.png" type="image/png">

    <title>Performance - Juniqe Cloud And Infrastruture Documentation</title>

    
    <link href="https://juniqe.gitlab.io/devops/docs/css/nucleus.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/fontawesome-all.min.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/hybrid.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/featherlight.min.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/perfect-scrollbar.min.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/auto-complete.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/atom-one-dark-reasonable.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/theme.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/tabs.css?1659456033" rel="stylesheet">
    <link href="https://juniqe.gitlab.io/devops/docs/css/hugo-theme.css?1659456033" rel="stylesheet">
    
    <link href="https://juniqe.gitlab.io/devops/docs/css/foo.css?1659456033" rel="stylesheet"><link href="https://juniqe.gitlab.io/devops/docs/css/bar.css?1659456033" rel="stylesheet">

    <script src="https://juniqe.gitlab.io/devops/docs/js/jquery-3.3.1.min.js?1659456033"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="https://juniqe.gitlab.io/devops/docs/infra/troubleshooting/performance/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='https://juniqe.gitlab.io/devops/docs/'>






























































































  <svg
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:cc="http://creativecommons.org/ns#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
    id="svg2"
    version="1.1"
    inkscape:version="0.48.4 r9939"
    width="283.46375"
    height="81.25"
    xml:space="preserve"
    sodipodi:docname="logo_tagline_black.pdf"><metadata
     id="metadata8"><rdf:RDF><cc:Work
         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
    rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs
    id="defs6"><clipPath
       clipPathUnits="userSpaceOnUse"
       id="clipPath16"><path
         d="m 0,65 226.771,0 0,-65 L 0,0 0,65 z"
         id="path18" /></clipPath></defs><sodipodi:namedview
    pagecolor="#ffffff"
    bordercolor="#666666"
    borderopacity="1"
    objecttolerance="10"
    gridtolerance="10"
    guidetolerance="10"
    inkscape:pageopacity="0"
    inkscape:pageshadow="2"
    inkscape:window-width="640"
    inkscape:window-height="480"
    id="namedview4"
    showgrid="false"
    inkscape:zoom="1.3017538"
    inkscape:cx="141.73187"
    inkscape:cy="40.625"
    inkscape:window-x="5051"
    inkscape:window-y="179"
    inkscape:window-maximized="0"
    inkscape:current-layer="g10" /><g
    id="g10"
    inkscape:groupmode="layer"
    inkscape:label="logo_tagline_black"
    transform="matrix(1.25,0,0,-1.25,0,81.25)"><g
       id="g12"><g
         id="g14"
         clip-path="url(#clipPath16)"><g
           id="g20"
           transform="translate(188.8158,64.7023)"><path
             d="m 0,0 0,-40.735 27.118,0 0,6.81 -20.369,0 0,10.154 20.369,0 0,6.75 -20.369,0 0,10.212 20.369,0 0,6.809 L 0,0 z m -21.073,-10.799 c 2.662,-2.662 3.992,-5.852 3.992,-9.568 0,-3.718 -1.33,-6.925 -3.992,-9.626 -2.66,-2.622 -5.85,-3.932 -9.566,-3.932 -3.718,0 -6.926,1.31 -9.627,3.932 -2.621,2.701 -3.933,5.908 -3.933,9.626 0,3.716 1.312,6.906 3.933,9.568 2.701,2.66 5.909,3.99 9.627,3.99 3.716,0 6.906,-1.33 9.566,-3.99 m -23.945,4.813 c -3.993,-3.993 -5.988,-8.786 -5.988,-14.381 0,-5.635 1.995,-10.429 5.988,-14.381 3.951,-3.99 8.744,-5.987 14.379,-5.987 4.303,0 8.236,1.253 11.798,3.757 l 3.755,-3.757 4.874,4.813 -3.815,3.757 c 2.54,3.522 3.815,7.455 3.815,11.798 0,5.595 -2.016,10.388 -6.047,14.381 C -20.212,-1.995 -25.005,0 -30.639,0 -36.313,0 -41.106,-1.995 -45.018,-5.986 m -19.898,-34.749 6.749,0 0,40.735 -6.749,0 0,-40.735 z m -45.665,0.06 6.75,0 0,24.358 27.177,-24.418 0,0.117 0,-0.057 0,40.734 -6.809,0 0,-24.418 -27.118,24.418 0,-40.734 z M -119.266,0 l -6.81,0 0,-23.771 c 0,-2.78 -1.017,-5.166 -3.051,-7.161 -1.958,-1.996 -4.344,-2.993 -7.162,-2.993 -2.816,0 -5.222,0.997 -7.219,2.993 -1.957,1.956 -2.934,4.343 -2.934,7.161 l 0,23.771 -6.751,0 0,-23.771 c 0,-4.658 1.643,-8.668 4.931,-12.034 3.366,-3.286 7.356,-4.93 11.973,-4.93 4.657,0 8.667,1.644 12.033,4.93 3.326,3.326 4.99,7.338 4.99,12.034 l 0,23.771 z m -67.382,-36.802 c 2.661,-2.622 5.87,-3.933 9.626,-3.933 3.678,0 6.887,1.311 9.627,3.933 2.66,2.7 3.991,5.909 3.991,9.627 l 0,27.175 -6.868,0 0,-27.175 c 0,-1.88 -0.665,-3.484 -1.996,-4.815 -1.291,-1.29 -2.875,-1.935 -4.754,-1.935 -1.839,0 -3.425,0.664 -4.754,1.995 l -4.872,-4.872 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path22" /></g><g
    id="g24"
    transform="translate(9.4686,6.1445)"><path
             d="M 0,0 -1.777,4.992 -3.553,0 0,0 z m -2.735,7.745 1.989,0 4.566,-12.506 -2.15,0 -1.03,2.931 -4.833,0 -1.029,-2.931 -2.079,0 4.566,12.506 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path26" /></g><g
    id="g28"
    transform="translate(23.7858,7.6187)"><path
             d="m 0,0 c 1.599,0 2.487,0.853 2.487,2.15 l 0,0.036 c 0,1.403 -0.906,2.132 -2.452,2.132 l -2.256,0 L -2.221,0 0,0 z m -4.281,6.2 4.494,0 C 1.634,6.2 2.789,5.774 3.535,5.028 4.193,4.371 4.565,3.429 4.565,2.292 l 0,-0.071 c 0,-1.919 -1.066,-3.109 -2.575,-3.642 l 2.931,-4.814 -2.381,0 -2.647,4.406 c -0.035,-0.019 -0.089,-0.019 -0.124,-0.019 l -1.99,0 0,-4.387 -2.06,0 0,12.435 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path30" /></g><g
    id="g32"
    transform="translate(37.4272,11.9003)"><path
             d="m 0,0 -3.269,0 0,1.919 8.598,0 0,-1.919 -3.268,0 0,-10.517 -2.061,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path34" /></g><path
    d="m 47.392,3.746 2.274,0 0,-2.363 -2.274,0 0,2.363 z"
    style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
    id="path36" /><g
    id="g38"
    transform="translate(65.5454,13.8189)"><path
             d="m 0,0 7.834,0 0,-1.865 -5.791,0 0,-3.375 5.134,0 0,-1.866 -5.134,0 0,-3.464 5.88,0 0,-1.865 -7.923,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path40" /></g><g
    id="g42"
    transform="translate(79.1516,13.8189)"><path
             d="M 0,0 2.238,0 5.294,-9.398 8.349,0 l 2.168,0 -4.299,-12.507 -1.901,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path44" /></g><g
    id="g46"
    transform="translate(95.8844,13.8189)"><path
             d="m 0,0 7.834,0 0,-1.865 -5.791,0 0,-3.375 5.134,0 0,-1.866 -5.134,0 0,-3.464 5.88,0 0,-1.865 -7.923,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path48" /></g><g
    id="g50"
    transform="translate(114.6959,7.6187)"><path
             d="m 0,0 c 1.598,0 2.487,0.853 2.487,2.15 l 0,0.036 c 0,1.403 -0.906,2.132 -2.452,2.132 l -2.256,0 L -2.221,0 0,0 z m -4.282,6.2 4.495,0 C 1.634,6.2 2.789,5.774 3.535,5.028 4.192,4.371 4.565,3.429 4.565,2.292 l 0,-0.071 C 4.565,0.302 3.5,-0.888 1.99,-1.421 l 2.931,-4.814 -2.381,0 -2.647,4.406 c -0.035,-0.019 -0.088,-0.019 -0.124,-0.019 l -1.99,0 0,-4.387 -2.061,0 0,12.435 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path52" /></g><g
    id="g54"
    transform="translate(128.6039,6.3397)"><path
             d="m 0,0 -4.192,7.479 2.362,0 2.878,-5.382 2.895,5.382 2.292,0 -4.174,-7.461 0,-4.974 L 0,-4.956 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path56" /></g><g
    id="g58"
    transform="translate(139.7226,13.8189)"><path
             d="m 0,0 2.185,0 2.434,-9.025 2.54,9.06 1.777,0 2.54,-9.06 2.434,9.025 2.131,0 -3.624,-12.507 -1.865,0 -2.54,8.777 -2.54,-8.777 -1.866,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path60" /></g><g
    id="g62"
    transform="translate(162.0687,13.8189)"><path
             d="m 0,0 2.061,0 0,-5.223 4.885,0 0,5.223 2.06,0 0,-12.435 -2.06,0 0,5.294 -4.885,0 0,-5.294 -2.061,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path64" /></g><g
    id="g66"
    transform="translate(178.1975,13.8189)"><path
             d="m 0,0 7.835,0 0,-1.865 -5.792,0 0,-3.375 5.134,0 0,-1.866 -5.134,0 0,-3.464 5.88,0 0,-1.865 -7.923,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path68" /></g><g
    id="g70"
    transform="translate(197.0086,7.6187)"><path
             d="m 0,0 c 1.598,0 2.487,0.853 2.487,2.15 l 0,0.036 c 0,1.403 -0.907,2.132 -2.452,2.132 l -2.256,0 L -2.221,0 0,0 z m -4.281,6.2 4.494,0 C 1.634,6.2 2.789,5.774 3.535,5.028 4.193,4.371 4.565,3.429 4.565,2.292 l 0,-0.071 C 4.565,0.302 3.5,-0.888 1.99,-1.421 l 2.931,-4.814 -2.381,0 -2.647,4.406 c -0.035,-0.019 -0.088,-0.019 -0.124,-0.019 l -1.99,0 0,-4.387 -2.06,0 0,12.435 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path72" /></g><g
    id="g74"
    transform="translate(208.2514,13.8189)"><path
             d="m 0,0 7.835,0 0,-1.865 -5.792,0 0,-3.375 5.134,0 0,-1.866 -5.134,0 0,-3.464 5.88,0 0,-1.865 -7.923,0 L 0,0 z"
             style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
             id="path76" /></g><path
    d="m 222.498,3.746 2.274,0 0,-2.363 -2.274,0 0,2.363 z"
    style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
    id="path78" /></g></g></g>
  </svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://juniqe.gitlab.io/devops/docs/js/lunr.min.js?1659456033"></script>
<script type="text/javascript" src="https://juniqe.gitlab.io/devops/docs/js/auto-complete.js?1659456033"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/juniqe.gitlab.io\/devops\/docs";
    
</script>
<script type="text/javascript" src="https://juniqe.gitlab.io/devops/docs/js/search.js?1659456033"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://juniqe.gitlab.io/devops/docs/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/infra/" title="Infrastructure" class="dd-item
        parent
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/">
          Infrastructure
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/infra/infrastructure-docs/" title="Infrastructure Documentation" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/">
          <b>1. </b>Infrastructure Documentation
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/infra/infrastructure-docs/authentication/" title="Authentication" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/authentication/">
          <b>1.1. </b>Authentication
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/authentication/aws-sso/" title="AWS Credentials via SAML (SSO)" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/authentication/aws-sso/">
        AWS Credentials via SAML (SSO)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/authentication/mutiple-auth/" title="" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/authentication/mutiple-auth/">
        
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/infrastructure-docs/cloud/" title="Cloud Documentation" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/cloud/">
          <b>1.2. </b>Cloud Documentation
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/cloud/cross-account-peering/" title="AWS private zone cross-account peering" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/cloud/cross-account-peering/">
        AWS private zone cross-account peering
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/infrastructure-docs/external/" title="External" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/external/">
          External
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/external/hetzner/" title="Hetzner" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/external/hetzner/">
        Hetzner
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/infrastructure-docs/maintenance/" title="Maintenance" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/maintenance/">
          Maintenance
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/maintenance/db/" title="Data Consistency / DB Maintenance" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/maintenance/db/">
        Data Consistency / DB Maintenance
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/bi-infrastructure/" title="BI infrastructure" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/bi-infrastructure/">
        BI infrastructure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/external-infrastructure/" title="External infrastructure" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/external-infrastructure/">
        External infrastructure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/infrastructure-docs/terraform/" title="Terraform usage" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/infrastructure-docs/terraform/">
        Terraform usage
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/onboarding/" title="Onboarding" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/">
          <b>2. </b>Onboarding
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/infra/onboarding/providers/" title="Providers" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/providers/">
          <b>2.1. </b>Providers
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/providers/cognito/" title="Cognito" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/providers/cognito/">
        Cognito
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/providers/google/" title="Google" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/providers/google/">
        Google
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/providers/merchant-center-sso/" title="Merchant Center SSO" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/providers/merchant-center-sso/">
        Merchant Center SSO
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/aws-sso-google-saml/" title="AWS SSO via Google SAML" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/aws-sso-google-saml/">
        AWS SSO via Google SAML
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/magento/" title="Magento Documentation" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/magento/">
        Magento Documentation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/mysql-users/" title="MySQL users onboarding" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/mysql-users/">
        MySQL users onboarding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/onboarding/vpn/" title="VPN onboarding" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/onboarding/vpn/">
        VPN onboarding
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/applications/" title="Applications" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/applications/">
          <b>3. </b>Applications
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/applications/checkout/" title="Checkout app" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/applications/checkout/">
        Checkout app
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/lambdas/" title="Lambda System" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/lambdas/">
          <b>4. </b>Lambda System
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/infra/lambdas/image-resize/" title="Image resize" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/lambdas/image-resize/">
          Image resize
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/lambdas/image-resize/lambdas/" title="AWS Lambda for image rendering" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/lambdas/image-resize/lambdas/">
        AWS Lambda for image rendering
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/howto/" title="Howto" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/howto/">
          <b>5. </b>Howto
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/infra/howto/pulumi/" title="Pulumi" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/howto/pulumi/">
          Pulumi
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/howto/cloud/" title="Cloud" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/howto/cloud/">
        Cloud
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/monitoring/" title="Monitoring" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/monitoring/">
          <b>6. </b>Monitoring
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/monitoring/system/" title="System" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/monitoring/system/">
        System
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/troubleshooting/" title="Troubleshooting" class="dd-item
        parent
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/troubleshooting/">
          <b>7. </b>Troubleshooting
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/infra/troubleshooting/performance/" title="Performance" class="dd-item active">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/troubleshooting/performance/">
        Performance
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/troubleshooting/staging/" title="Staging" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/troubleshooting/staging/">
        Staging
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/infra/maintenance/" title="Maintenance" class="dd-item
        
        
        
        ">
      <a href="https://juniqe.gitlab.io/devops/docs/infra/maintenance/">
          Maintenance
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/first-content/" title="Cloud &amp; Infrastructure" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/first-content/">
        Cloud &amp; Infrastructure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/infra/devops-entrypoints/" title="DevOps Entrypoints" class="dd-item ">
        <a href="https://juniqe.gitlab.io/devops/docs/infra/devops-entrypoints/">
        DevOps Entrypoints
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Create by <a href="https://gitlab.com/asdrubal2">Asdrubal</a> built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a
        href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>





    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                   Performance
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#how-to">How to</a>
      <ul>
        <li><a href="#check-if-not-enough-resources">check if not enough resources</a></li>
        <li><a href="#check-if-we-have-more-traffic-then-usually">Check if we have more traffic then usually</a></li>
        <li><a href="#check-if-traffic-spike-is-correlating-with-perormance-issues">check if traffic spike is correlating with perormance issues</a></li>
      </ul>
    </li>
    <li><a href="#check-errors">Check errors</a>
      <ul>
        <li><a href="#is-service-in-process-of-scaling">Is service in process of scaling</a></li>
        <li><a href="#cluster-has-enough-capacity-for-new-instances-">Cluster has enough capacity for new instances ?</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#vertical-scaling-more-resources">Vertical scaling (more resources)</a>
      <ul>
        <li><a href="#k8s-deployment-1">k8s deployment</a></li>
        <li><a href="#ecs">ECS</a></li>
      </ul>
    </li>
    <li><a href="#horizontal-scaling-more-instances">Horizontal scaling (more instances)</a>
      <ul>
        <li><a href="#k8s-deployement">k8s deployement</a></li>
        <li><a href="#ecs-1">Ecs</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#storefront-cdn">Storefront CDN</a>
      <ul>
        <li><a href="#metrics">Metrics</a></li>
        <li><a href="#dependencies">Dependencies</a></li>
      </ul>
    </li>
    <li><a href="#nginx-frontend">Nginx-frontend</a>
      <ul>
        <li><a href="#metrics-1">Metrics</a></li>
        <li><a href="#logs">Logs</a></li>
        <li><a href="#metrics-2">Metrics</a></li>
        <li><a href="#dependencies-1">Dependencies</a></li>
      </ul>
    </li>
    <li><a href="#shop-app">Shop-app</a>
      <ul>
        <li><a href="#metrics-3">Metrics</a></li>
        <li><a href="#manual-check">Manual check</a></li>
        <li><a href="#dependencies-2">Dependencies</a></li>
      </ul>
    </li>
    <li><a href="#pdp-app">PDP-APP</a>
      <ul>
        <li><a href="#metrics-4">Metrics</a></li>
        <li><a href="#manual-check-1">Manual check</a></li>
        <li><a href="#dependencies-3">Dependencies</a></li>
      </ul>
    </li>
    <li><a href="#magento-checkout">Magento Checkout</a>
      <ul>
        <li><a href="#metrics-5">Metrics</a></li>
        <li><a href="#manual-check-2">Manual check</a></li>
        <li><a href="#dependencies-4">Dependencies</a></li>
      </ul>
    </li>
    <li><a href="#magento-internal">Magento Internal</a>
      <ul>
        <li><a href="#metrics-6">Metrics</a></li>
        <li><a href="#manual-check-3">Manual check</a></li>
        <li><a href="#dependencies-5">Dependencies</a></li>
      </ul>
    </li>
    <li><a href="#master-database">Master Database</a>
      <ul>
        <li><a href="#metrics-7">Metrics</a></li>
        <li><a href="#manual-check-4">Manual check</a></li>
        <li><a href="#vertical-scaling">Vertical scaling</a></li>
      </ul>
    </li>
    <li><a href="#slave-database">Slave database</a>
      <ul>
        <li><a href="#metrics-8">Metrics</a></li>
        <li><a href="#vertical-scaling-1">Vertical scaling</a></li>
        <li><a href="#horizontal-scaling">Horizontal scaling</a></li>
        <li><a href="#manual-check-5">Manual check</a></li>
      </ul>
    </li>
    <li><a href="#elasticsearch-storage">ElasticSearch Storage</a>
      <ul>
        <li><a href="#metrics-9">Metrics</a></li>
        <li><a href="#manual-check-6">Manual check</a></li>
        <li><a href="#horizontal-scaling-1">Horizontal scaling</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Performance
            </h1>
          

        


<h1 id="how-to-address-issues-performance-issues">How to address issues performance issues</h1>
<p>Use this diagram to solve issues</p>
<p><a href="https://drive.google.com/file/d/1WaTRu9OIoUy-4a9XbtqVbpYQpUpsfGoP/view?usp=sharing">https://drive.google.com/file/d/1WaTRu9OIoUy-4a9XbtqVbpYQpUpsfGoP/view?usp=sharing</a></p>
<h2 id="how-to">How to</h2>
<h3 id="check-if-not-enough-resources">check if not enough resources</h3>
<p>Memory: OOM events, memory usage is close to maximum, gc behaviour
CPU: High cpu usage(more or close then maximum)
Space: Service is non fuctional or throws errors on IO</p>
<h3 id="check-if-we-have-more-traffic-then-usually">Check if we have more traffic then usually</h3>
<p>Open Traffic rate grafics retrospectively for 1h, 12h, 2 days, 7 days windows and search for anomalies</p>
<h3 id="check-if-traffic-spike-is-correlating-with-perormance-issues">check if traffic spike is correlating with perormance issues</h3>
<p>Look for spike window and correlate with reponse time, error rates</p>
<h2 id="check-errors">Check errors</h2>
<p>Check error rates on grafana metrics, for 5xx on shop and magento check kibana vis table for exact uri</p>
<p><code>elk.intra.juniqe.com/_plugin/kibana/app/kibana#/visualize/edit/e71b0680-2361-11eb-bf46-11db10131e73?_g=h@44136fa&amp;_a=h@518cb23</code></p>
<p>check sentry, kibana app logs</p>
<h3 id="is-service-in-process-of-scaling">Is service in process of scaling</h3>
<h4 id="k8s-deployment">k8s deployment</h4>
<p>For example for shop, check &ldquo;Deployment pods&rdquo;</p>
<p>kubectl describe hpa shop-app</p>
<p>current should be less then desired and going up</p>
<pre tabindex="0"><code>Deployment pods: 5 current / 5 desired
</code></pre><p>Also look at events field for scaling events or lack of them.</p>
<p>or check grafana dashboard for such metric</p>
<h4 id="ecs-service">ECS service</h4>
<p>Go to ECS console, open &ldquo;backend&rdquo; ecs cluster, find service and check for running / desired instances. Also check events tab for scaling events</p>
<p>or check datadog dashboard for such metric</p>
<h3 id="cluster-has-enough-capacity-for-new-instances-">Cluster has enough capacity for new instances ?</h3>
<p>Check events for instance allocation errors</p>
<pre tabindex="0"><code>kubectl describe hpa shop-app
</code></pre><p>Open AWS/EC2/Autoscaling page and check events tab for autoscaling events. There are should be no errors. Pools should not be at maximum</p>
<h1 id="actions">Actions</h1>
<h2 id="vertical-scaling-more-resources">Vertical scaling (more resources)</h2>
<h3 id="k8s-deployment-1">k8s deployment</h3>
<p>Find k8s deployemnt resource in k8s definition and change <code>resources</code> specification.</p>
<pre tabindex="0"><code>          resources:
            requests:
              memory: &#34;2600Mi&#34;
              cpu: &#34;2048m&#34;
            limits:
              memory: &#34;2600Mi&#34;
              cpu: &#34;4096m&#34;
</code></pre><p>run <code>skaffold deploy -p juniqe-production --images &quot;&lt;current image tag&gt;&quot;</code></p>
<h3 id="ecs">ECS</h3>
<p>Find taskdefinition (for example juniqe-infra/terraform/modules/juniqe/ecs-shop/files/taskdefinition.json)</p>
<p>change <code>memory</code>, <code>memoryReservation</code>, <code>cpu</code>.</p>
<p>Run terraform init, terraform apply for this service</p>
<h2 id="horizontal-scaling-more-instances">Horizontal scaling (more instances)</h2>
<h3 id="k8s-deployement">k8s deployement</h3>
<p>Find k8s HorizontalPodAutoscaler resource and change maximum and minimum replicas</p>
<p>run <code>skaffold deploy -p juniqe-production --images &quot;&lt;current image tag&gt;&quot;</code></p>
<h3 id="ecs-1">Ecs</h3>
<p>Find service layer in juniqe-infra/terraform/envs and change maximum/minimum in service module.</p>
<h1 id="main-services">Main services</h1>
<h2 id="storefront-cdn">Storefront CDN</h2>
<p>Main content distribution. Proxies to nginx-frontend(shop,checkout) and pdp-app.</p>
<p>Caches /, /api/, <code>/_next/</code> and pdp-app pdp pages.</p>
<h3 id="metrics">Metrics</h3>
<p><a href="https://grafana.prod.juniqe.com/d/D9AMi9hGk/storefront-cdn?orgId=1">https://grafana.prod.juniqe.com/d/D9AMi9hGk/storefront-cdn?orgId=1</a></p>
<p>Check error rates</p>
<h3 id="dependencies">Dependencies</h3>
<ul>
<li>nginx-frontend</li>
<li>pdp-app</li>
</ul>
<h2 id="nginx-frontend">Nginx-frontend</h2>
<p>Ingests and routes traffic between shop and magento</p>
<h3 id="metrics-1">Metrics</h3>
<p><a href="https://app.datadoghq.com/dashboard/628-s9p-pg2/nginx-frontend?from_ts=1605024289396&amp;live=true&amp;to_ts=1605027889396&amp;tpl_var_env=juniqe-production">https://app.datadoghq.com/dashboard/628-s9p-pg2/nginx-frontend?from_ts=1605024289396&amp;live=true&amp;to_ts=1605027889396&amp;tpl_var_env=juniqe-production</a></p>
<p>check cpu, amount of containers</p>
<h3 id="logs">Logs</h3>
<h3 id="metrics-2">Metrics</h3>
<p><a href="https://app.datadoghq.com/dashboard/628-s9p-pg2/nginx-frontend?from_ts=1605024289396&amp;live=true&amp;to_ts=1605027889396">https://app.datadoghq.com/dashboard/628-s9p-pg2/nginx-frontend?from_ts=1605024289396&amp;live=true&amp;to_ts=1605027889396</a></p>
<h3 id="dependencies-1">Dependencies</h3>
<ul>
<li>shop-app</li>
<li>magento-checkout</li>
</ul>
<h2 id="shop-app">Shop-app</h2>
<h3 id="metrics-3">Metrics</h3>
<p>check response time, error rates</p>
<p><a href="https://grafana.prod.juniqe.com/d/HlhbEnKMz/shop-app?orgId=1">https://grafana.prod.juniqe.com/d/HlhbEnKMz/shop-app?orgId=1</a></p>
<h3 id="manual-check">Manual check</h3>
<p>Page is opening <a href="https://www.juniqe.de/wandbilder/poster">https://www.juniqe.de/wandbilder/poster</a></p>
<p>Main page is cached, apis are cached</p>
<h3 id="dependencies-2">Dependencies</h3>
<ul>
<li>Masterdb</li>
<li>Magento Internal</li>
<li>ES Storage</li>
<li>Caches (Redis &amp; Memcached)</li>
<li>DY</li>
</ul>
<h2 id="pdp-app">PDP-APP</h2>
<h3 id="metrics-4">Metrics</h3>
<p>What to check: response time, error rates</p>
<p><a href="https://grafana.prod.juniqe.com/d/FYp22acGz/pdp-app?orgId=1">https://grafana.prod.juniqe.com/d/FYp22acGz/pdp-app?orgId=1</a></p>
<h3 id="manual-check-1">Manual check</h3>
<p>pdp pages are all cached</p>
<p>You could try to open this pathes, which are not blocked
<a href="http://pdp-app.prod.juniqe.com/status">http://pdp-app.prod.juniqe.com/status</a></p>
<p><a href="http://pdp-app.prod.juniqe.com/metrics">http://pdp-app.prod.juniqe.com/metrics</a></p>
<h3 id="dependencies-3">Dependencies</h3>
<ul>
<li>shop-app</li>
</ul>
<h2 id="magento-checkout">Magento Checkout</h2>
<p>serves /checkout, payment provider callbacks</p>
<h3 id="metrics-5">Metrics</h3>
<p>Check 5xx error rates, listen queue size, request times, container count</p>
<p><a href="https://app.datadoghq.com/dashboard/j2s-r88-9gb/magento-checkout">https://app.datadoghq.com/dashboard/j2s-r88-9gb/magento-checkout</a></p>
<h3 id="manual-check-2">Manual check</h3>
<p>Open Page <a href="https://www.juniqe.de/checkout/onepage/">https://www.juniqe.de/checkout/onepage/</a> or place an order with Advanced Payment</p>
<h3 id="dependencies-4">Dependencies</h3>
<ul>
<li>masterdb</li>
<li>slavedb</li>
<li>memcached (sessions)</li>
<li>redis (configuration)</li>
</ul>
<h2 id="magento-internal">Magento Internal</h2>
<p>serves /reboot/ endpoints which are used in shop /cart/add /cart/get and session generation.</p>
<h3 id="metrics-6">Metrics</h3>
<p>Check 5xx error rates, listen queue size, request times, container count</p>
<p><a href="https://app.datadoghq.com/dashboard/i9n-aph-uyk/magento-internal">https://app.datadoghq.com/dashboard/i9n-aph-uyk/magento-internal</a></p>
<h3 id="manual-check-3">Manual check</h3>
<p>Open <a href="https://www.juniqe.de/reboot/session/init">https://www.juniqe.de/reboot/session/init</a>
Should generate new session if there are no frontent session cookie</p>
<h3 id="dependencies-5">Dependencies</h3>
<ul>
<li>masterdb</li>
<li>slavedb</li>
<li>memcached (sessions)</li>
<li>redis (configuration)</li>
</ul>
<h2 id="master-database">Master Database</h2>
<h3 id="metrics-7">Metrics</h3>
<p><a href="https://grafana.prod.juniqe.com/d/7afX4nKGz/amazon-mysql-rds?orgId=1">https://grafana.prod.juniqe.com/d/7afX4nKGz/amazon-mysql-rds?orgId=1</a></p>
<p>Check CPU, Burst Balance</p>
<h3 id="manual-check-4">Manual check</h3>
<p>Connect to database</p>
<pre tabindex="0"><code>mysql -h masterdb.juniqe-production
</code></pre><p>run <code>select now()</code></p>
<p>Check processlist for long queries</p>
<pre tabindex="0"><code>select ID,USER,TIME,STATE from information_schema.processlist where COMMAND!=&#34;Sleep&#34; order by TIME\G
</code></pre><h3 id="vertical-scaling">Vertical scaling</h3>
<p>In ~/workspace/juniqe-infra/terraform/envs/juniqe-production/env.auto.tfvars change &ldquo;instance.types.rds&rdquo; and apply</p>
<h2 id="slave-database">Slave database</h2>
<p>Special replica is used only during blackfriday to unload some read only magento checkout queries.</p>
<h3 id="metrics-8">Metrics</h3>
<p><a href="https://grafana.prod.juniqe.com/d/7afX4nKGz/amazon-mysql-rds?orgId=1">https://grafana.prod.juniqe.com/d/7afX4nKGz/amazon-mysql-rds?orgId=1</a></p>
<p>To find slow queries, this tool can be used
AWS performance insights <a href="https://eu-central-1.console.aws.amazon.com/rds/home?region=eu-central-1#performance-insights:resourceId=db-OMUTTKKBJDQDDHOEOYI3W66D2I;resourceName=masterdb">https://eu-central-1.console.aws.amazon.com/rds/home?region=eu-central-1#performance-insights:resourceId=db-OMUTTKKBJDQDDHOEOYI3W66D2I;resourceName=masterdb</a></p>
<p>Check Replica Lag, CPU, Burst Balance</p>
<h3 id="vertical-scaling-1">Vertical scaling</h3>
<p>In ~/workspace/juniqe-infra/terraform/envs/juniqe-production/env.auto.tfvars change &ldquo;instance.types.rds&rdquo; and apply</p>
<h3 id="horizontal-scaling">Horizontal scaling</h3>
<p>In <code>~/workspace/juniqe-infra/terraform/envs/juniqe-production/rds-slavedb/main.tf</code></p>
<p>add new slave module with uniqe name (slavedb-02,03..etc).
make sure <code>load_weight</code> is set to 0, as we do not want to send traffic to not warmed up instance.</p>
<p>run <code>terraform apply</code></p>
<p>After successfull apply (spinning new instance will take 10-20 min), start increasing load_weight gradually with 10-20 step each 10-20 min.</p>
<p>Monitor cpu and query latency, query distribution skew between slaves</p>
<h3 id="manual-check-5">Manual check</h3>
<p>Connect to database</p>
<pre tabindex="0"><code>mysql -h slavedb-01.juniqe-production
</code></pre><p>Check processlist for long queries, or if there are any queries</p>
<pre tabindex="0"><code>select ID,USER,TIME,STATE from information_schema.processlist where COMMAND!=&#34;Sleep&#34; order by TIME\G
</code></pre><p>check lag</p>
<pre tabindex="0"><code>SHOW SLAVE STATUS\G
</code></pre><p>There are should be no errors, Seconds_Behind_Master: 0 and Slave_SQL_Running: Yes</p>
<p>any lag can stop checkout from happening. there are automation to route queries to master</p>
<p>check current routing:</p>
<p>dig default.rr.readonly-slavedb.juniqe-production</p>
<p>as this record is server side round robin, it can return different result each run if weight is not 0% or 100%</p>
<h2 id="elasticsearch-storage">ElasticSearch Storage</h2>
<h3 id="metrics-9">Metrics</h3>
<p>Check:</p>
<ul>
<li>cluster status,</li>
<li>shards in non active state should be zero (affecting shop availability)</li>
<li>threadpools &amp; queues (large queue could mean long shop api response)</li>
<li>thread pool rejections ( non zero could mean failed queries)</li>
<li>heap</li>
</ul>
<p><a href="https://grafana.prod.juniqe.com/d/n_nxrE_mk/juniqe-storage-elasticsearch?orgId=1&amp;refresh=1m&amp;var-env=juniqe-production">https://grafana.prod.juniqe.com/d/n_nxrE_mk/juniqe-storage-elasticsearch?orgId=1&amp;refresh=1m&amp;var-env=juniqe-production</a></p>
<h3 id="manual-check-6">Manual check</h3>
<p>Check cluster status is green:</p>
<p><a href="http://storage6-01.juniqe">http://storage6-01.juniqe</a>-production:9200/_cluster/health</p>
<p>Check which indice is broken:
<a href="http://storage6-01.juniqe">http://storage6-01.juniqe</a>-production:9200/_cat/indices?v</p>
<p>Check nodes status:
<a href="http://storage6-01.juniqe">http://storage6-01.juniqe</a>-production:9200/_cat/nodes?v</p>
<p>Use ES head chrome extension to debug cluster and indices health
<a href="https://chrome.google.com/webstore/detail/elasticsearch-head/ffmkiejjmecolpfloofpjologoblkegm">https://chrome.google.com/webstore/detail/elasticsearch-head/ffmkiejjmecolpfloofpjologoblkegm</a></p>
<h3 id="horizontal-scaling-1">Horizontal scaling</h3>
<p>in &lsquo;~/workspace/juniqe-infra/terraform/envs/juniqe-production/storage/main.tf&rsquo;</p>
<p>change <code>elasticsearch_cluster_size</code> (on-demand instances) or <code>elasticsearch_cluster_spot_size</code>.</p>
<p>run <code>terraform apply</code></p>
<p>Do not add too much instances at once.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://juniqe.gitlab.io/devops/docs/infra/troubleshooting/" title="Troubleshooting"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://juniqe.gitlab.io/devops/docs/infra/troubleshooting/staging/" title="Staging" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://juniqe.gitlab.io/devops/docs/js/clipboard.min.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/perfect-scrollbar.min.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/perfect-scrollbar.jquery.min.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/jquery.sticky.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/featherlight.min.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/highlight.pack.js?1659456033"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/modernizr.custom-3.6.0.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/learn.js?1659456033"></script>
    <script src="https://juniqe.gitlab.io/devops/docs/js/hugo-learn.js?1659456033"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

